<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>VÃ²ng quay may máº¯n</title>

<style>
body{
    font-family: Arial, sans-serif;
    margin:0;
    text-align:center;
    background:#fff;
}

h1{
    margin:15px 0;
    font-size:26px;
}

.top-bar{
    background:#111;
    color:#00ff66;
    padding:10px;
    font-weight:bold;
}

.wheel-box{
    position:relative;
    width:300px;
    height:300px;
    margin:20px auto;
}

.arrow{
    position:absolute;
    top:-15px;
    left:50%;
    transform:translateX(-50%);
    width:0;
    height:0;
    border-left:15px solid transparent;
    border-right:15px solid transparent;
    border-bottom:25px solid red;
    z-index:10;
}

canvas{
    width:100%;
    height:100%;
    border-radius:50%;
}

button{
    margin-top:15px;
    padding:15px 35px;
    font-size:18px;
    background:#ff5722;
    color:#fff;
    border:none;
    border-radius:8px;
    cursor:pointer;
}
button:disabled{
    background:#aaa;
}
</style>
</head>

<body>

<h1>VÃ²ng quay may máº¯n</h1>

<div class="top-bar">ğŸ« LÆ°á»£t cÃ²n láº¡i: <span id="turns">2</span></div>

<div class="wheel-box">
    <div class="arrow"></div>
    <canvas id="wheel" width="300" height="300"></canvas>
</div>

<button id="spinBtn">ğŸ¯ QUAY NGAY</button>

<script>
const prizes = [
  "Äiá»‡n thoáº¡i Samsung",
  "MÃ¡y sáº¥y tÃ³c",
  "BÃ n lÃ  ğŸ”¥",
  "+50.000Ä‘",
  "+100.000Ä‘",
  "+200.000Ä‘",
  "+300.000Ä‘",
  "+500.000Ä‘",
  "-70.000Ä‘",
  "-80.000Ä‘",
  "-90.000Ä‘",
  "-200.000Ä‘",
  "Máº¥t lÆ°á»£t",
  "ThÃªm lÆ°á»£t",
  "ChÃºc may máº¯n",
  "3 giá» quÃ  Táº¿t"
];

const colors = [
 "#FFD54F","#4FC3F7","#F48FB1","#66BB6A",
 "#26A69A","#80CBC4","#FFCA28","#FFA726",
 "#FF7043","#8D6E63","#D32F2F","#5D4037",
 "#42A5F5","#AB47BC","#9E9E9E","#FBC02D"
];

const canvas = document.getElementById("wheel");
const ctx = canvas.getContext("2d");
const center = canvas.width/2;
const radius = center;
const slice = 2 * Math.PI / prizes.length;
let angle = 0;
let turns = 2;
let spinning = false;

function drawWheel(){
  for(let i=0;i<prizes.length;i++){
    const start = angle + i*slice;
    ctx.beginPath();
    ctx.moveTo(center,center);
    ctx.arc(center,center,radius,start,start+slice);
    ctx.fillStyle = colors[i];
    ctx.fill();
    
    ctx.save();
    ctx.translate(center,center);
    ctx.rotate(start + slice/2);
    ctx.textAlign="right";
    ctx.fillStyle="#000";
    ctx.font="bold 12px Arial";
    ctx.fillText(prizes[i], radius-10,5);
    ctx.restore();
  }
}

drawWheel();

document.getElementById("spinBtn").onclick = ()=>{
 if(spinning || turns<=0) return;
 turns--;
 document.getElementById("turns").innerText=turns;
 spinning=true;

 let spinAngle = Math.random()*2000 + 3000;
 let current = 0;

 const timer = setInterval(()=>{
   angle += Math.PI/30;
   ctx.clearRect(0,0,canvas.width,canvas.height);
   drawWheel();
   current += Math.PI/30;
   if(current >= spinAngle*Math.PI/180){
     clearInterval(timer);
     spinning=false;
   }
 },20);
};
</script>

</body>
</html>
