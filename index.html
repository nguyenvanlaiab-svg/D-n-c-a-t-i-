<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>V√≤ng quay may m·∫Øn</title>
<style>
body{
  font-family: Arial, sans-serif;
  background:#111;
  color:#fff;
  text-align:center;
}
#wheel-box{
  position:relative;
  width:300px;
  height:300px;
  margin:40px auto;
}
#wheel{
  width:100%;
  height:100%;
  border-radius:50%;
  border:8px solid #fff;
  transition:transform 4s cubic-bezier(.17,.67,.14,1);
}
.arrow{
  position:absolute;
  top:-20px;
  left:50%;
  transform:translateX(-50%);
  width:0;
  height:0;
  border-left:15px solid transparent;
  border-right:15px solid transparent;
  border-bottom:30px solid red;
}
button{
  padding:12px 30px;
  font-size:18px;
  cursor:pointer;
}
#result{
  margin-top:20px;
  font-size:22px;
  font-weight:bold;
}
</style>
</head>

<body>

<h2>üéØ V√íNG QUAY MAY M·∫ÆN</h2>

<div id="wheel-box">
  <div class="arrow"></div>
  <canvas id="wheel" width="300" height="300"></canvas>
</div>

<button onclick="spin()">QUAY</button>
<div id="result"></div>

<script>
const prizes = [
  "üéÅ Tr√∫ng th∆∞·ªüng",
  "‚ùå Tr∆∞·ª£t",
  "üçÄ Ch√∫c may m·∫Øn",
  "‚õî M·∫•t l∆∞·ª£t"
];

const canvas = document.getElementById("wheel");
const ctx = canvas.getContext("2d");
const slices = prizes.length;
const arc = 2 * Math.PI / slices;
let angle = 0;

function drawWheel(){
  for(let i=0;i<slices;i++){
    ctx.beginPath();
    ctx.fillStyle = i%2 ? "#ff9800" : "#4caf50";
    ctx.moveTo(150,150);
    ctx.arc(150,150,150,arc*i,arc*(i+1));
    ctx.fill();

    ctx.save();
    ctx.translate(150,150);
    ctx.rotate(arc*i + arc/2);
    ctx.fillStyle="#fff";
    ctx.font="16px Arial";
    ctx.textAlign="right";
    ctx.fillText(prizes[i],130,5);
    ctx.restore();
  }
}
drawWheel();

function spin(){
  const randomDeg = Math.floor(Math.random()*360) + 1440;
  angle += randomDeg;
  canvas.style.transform = `rotate(${angle}deg)`;

  setTimeout(()=>{
    const actual = angle % 360;
    const index = Math.floor((360 - actual) / (360/slices)) % slices;
    document.getElementById("result").innerText =
      "üëâ K·∫øt qu·∫£: " + prizes[index];
  },4000);
}
</script>

</body>
</html>
